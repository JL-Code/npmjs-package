!function(e,n){"object"==typeof exports&&"object"==typeof module?module.exports=n(require("lodash")):"function"==typeof define&&define.amd?define(["lodash"],n):"object"==typeof exports?exports.plugins=n(require("lodash")):e.plugins=n(e._)}(self,(e=>(()=>{var n={369:e=>{"use strict";function n(){return n=Object.assign?Object.assign.bind():function(e){for(var n,t=1;t<arguments.length;t++)for(var i in n=arguments[t])Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i]);return e},n.apply(this,arguments)}var t=["attrs","props","domProps"],i=["class","style","directives"],o=["on","nativeOn"],a=function(e,n){return function(){e&&e.apply(this,arguments),n&&n.apply(this,arguments)}};e.exports=function(e){return e.reduce((function(e,r){for(var s in r)if(e[s])if(-1!==t.indexOf(s))e[s]=n({},e[s],r[s]);else if(-1!==i.indexOf(s)){var l=e[s]instanceof Array?e[s]:[e[s]],d=r[s]instanceof Array?r[s]:[r[s]];e[s]=[].concat(l,d)}else if(-1!==o.indexOf(s))for(var c in r[s])if(e[s][c]){var A=e[s][c]instanceof Array?e[s][c]:[e[s][c]],p=r[s][c]instanceof Array?r[s][c]:[r[s][c]];e[s][c]=[].concat(A,p)}else e[s][c]=r[s][c];else if("hook"===s)for(var u in r[s])e[s][u]=e[s][u]?a(e[s][u],r[s][u]):r[s][u];else e[s]=r[s];else e[s]=r[s];return e}),{})}},705:e=>{"use strict";e.exports=function(e){var n=[];return n.toString=function(){return this.map((function(n){var t="",i=void 0!==n[5];return n[4]&&(t+="@supports (".concat(n[4],") {")),n[2]&&(t+="@media ".concat(n[2]," {")),i&&(t+="@layer".concat(n[5].length>0?" ".concat(n[5]):""," {")),t+=e(n),i&&(t+="}"),n[2]&&(t+="}"),n[4]&&(t+="}"),t})).join("")},n.i=function(e,t,i,o,a){"string"==typeof e&&(e=[[null,e,void 0]]);var r={};if(i)for(var s=0;s<this.length;s++){var l=this[s][0];null!=l&&(r[l]=!0)}for(var d=0;d<e.length;d++){var c=[].concat(e[d]);i&&r[c[0]]||(void 0!==a&&(void 0===c[5]||(c[1]="@layer".concat(c[5].length>0?" ".concat(c[5]):""," {").concat(c[1],"}")),c[5]=a),t&&(c[2]?(c[1]="@media ".concat(c[2]," {").concat(c[1],"}"),c[2]=t):c[2]=t),o&&(c[4]?(c[1]="@supports (".concat(c[4],") {").concat(c[1],"}"),c[4]=o):c[4]="".concat(o)),n.push(c))}},n}},216:e=>{"use strict";e.exports=function(e){var n=e[1],t=e[3];if(!t)return n;if("function"==typeof btoa){var i=btoa(unescape(encodeURIComponent(JSON.stringify(t)))),o="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(i),a="/*# ".concat(o," */"),r=t.sources.map((function(e){return"/*# sourceURL=".concat(t.sourceRoot||"").concat(e," */")}));return[n].concat(r).concat([a]).join("\n")}return[n].join("\n")}},271:(e,n,t)=>{"use strict";t.r(n),t.d(n,{default:()=>s});var i=t(216),o=t.n(i),a=t(705),r=t.n(a)()(o());r.push([e.id,'/*\n* Tencent is pleased to support the open source community by making WeUI available.\n* \n* Copyright (C) 2017 THL A29 Limited, a Tencent company. All rights reserved.\n* \n* Licensed under the MIT License (the "License"); you may not use this file except in compliance\n* with the License. You may obtain a copy of the License at\n* \n*       http://opensource.org/licenses/MIT\n* \n* Unless required by applicable law or agreed to in writing, software distributed under the License is\n* distributed on an "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND,\n* either express or implied. See the License for the specific language governing permissions and\n* limitations under the License.\n*/\n.fix_dialog .is-fullscreen {\n  top: 0 !important;\n  left: 0 !important;\n}\n.fix_dialog .is-fullscreen .el-dialog__body {\n  height: calc(100% - 51px);\n}\n.fix_dialog .is-fullscreen .el-dialog__body .dialog-body__embedded {\n  height: 100% !important;\n}\n.fix_dialog .el-dialog__header {\n  display: flex;\n  padding: 16px 16px 10px;\n  border-bottom: 1px solid #e8e8e8;\n}\n.fix_dialog .el-dialog__body {\n  padding: 0;\n}\n.fix_dialog .el-dialog__body .el-tabs--border-card {\n  border-top: none;\n}\n.fix_dialog .el-dialog__body .el-tabs--left .el-tabs__header.is-left {\n  margin-right: 0;\n}\n.fix_dialog .el-dialog__body .el-tabs__item {\n  min-width: 140px;\n}\n.fix_dialog .el-dialog__body > .fix_el-tabs {\n  padding: 0;\n}\n.fix_dialog .el-dialog__title {\n  line-height: 22px;\n}\n.fix_dialog .el-dialog__headerbtn {\n  position: static;\n  margin-left: 10px;\n}\n.fix_dialog .el-dialog__headerbtn i {\n  font-size: 16px;\n  line-height: 1;\n}\n.fix_dialog .fix_el-tabs.el-tabs {\n  height: 100%;\n}\n.fix_dialog .fix_el-tabs.el-tabs .el-tabs__content {\n  padding: 0;\n  height: 100%;\n}\n.fix_dialog .fix_el-tabs.el-tabs .el-tabs__content .el-tab-pane {\n  height: 100%;\n}\n.dialog-header__title {\n  flex: 1;\n  height: 24px;\n  line-height: 24px;\n  font-size: 18px;\n  color: #303133;\n  width: auto;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  white-space: nowrap;\n  word-wrap: normal;\n}\n.header-btn_maximizable {\n  font-size: 16px;\n  padding: 0;\n  background: 0 0;\n  border: none;\n  outline: 0;\n  cursor: pointer;\n}\n.header-btn_maximizable i.iconfont {\n  color: #909399;\n}\n.header-btn_maximizable i.iconfont:focus,\n.header-btn_maximizable i.iconfont:hover {\n  color: #409eff;\n}\n',"",{version:3,sources:["webpack://./src/plugins/dialog/dialog.less","webpack://./src/style/base/mixin/text.less"],names:[],mappings:"AAAA;;;;;;;;;;;;;;CAcC;AATD;EAGI,iBAAA;EACA,kBAAA;AASJ;AAbA;EAMM,yBAAA;AAUN;AAhBA;EAQQ,uBAAA;AAWR;AAnBA;EAaI,aAAA;EACA,uBAAA;EACA,gCAAA;AASJ;AAxBA;EAmBI,UAAA;AAQJ;AA3BA;EAqBM,gBAAA;AASN;AA9BA;EAwBM,eAAA;AASN;AAjCA;EA2BM,gBAAA;AASN;AAPI;EACE,UAAA;AASN;AAvCA;EAkCI,iBAAA;AAQJ;AA1CA;EAsCI,gBAAA;EACA,iBAAA;AAOJ;AA9CA;EAyCM,eAAA;EACA,cAAA;AAQN;AAlDA;EA+CI,YAAA;AAMJ;AArDA;EAiDM,UAAA;EACA,YAAA;AAON;AAzDA;EAoDQ,YAAA;AAQR;AAHA;EACE,OAAA;EACA,YAAA;EACA,iBAAA;EACA,eAAA;EACA,cAAA;EClDE,WAAA;EACA,gBAAA;EACA,uBAAA;EACA,mBAAA;EACA,iBAAA;ADwDJ;AANA;EACE,eAAA;EACA,UAAA;EACA,eAAA;EACA,YAAA;EACA,UAAA;EACA,eAAA;AAQF;AAdA;EAQI,cAAA;AASJ;AARI;;EAEE,cAAA;AAUN",sourcesContent:['@import "../../style/base/fn.less";\n@dialogHeaderColor: #f8f8f8;\n@headerBottomColor: #e8e8e8;\n\n// 调整 element dialog 样式\n.fix_dialog {\n  .is-fullscreen {\n    // 强制还原坐标\n    top: 0 !important;\n    left: 0 !important;\n    .el-dialog__body {\n      height: calc(100% - 51px);\n      .dialog-body__embedded {\n        height: 100% !important;\n      }\n    }\n  }\n  .el-dialog__header {\n    display: flex;\n    padding: 16px 16px 10px;\n    border-bottom: 1px solid @headerBottomColor;\n  }\n  // dialog 不自带padding\n  .el-dialog__body {\n    padding: 0;\n    .el-tabs--border-card {\n      border-top: none;\n    }\n    .el-tabs--left .el-tabs__header.is-left {\n      margin-right: 0;\n    }\n    .el-tabs__item {\n      min-width: 140px;\n    }\n    & > .fix_el-tabs {\n      padding: 0;\n    }\n  }\n  .el-dialog__title {\n    line-height: 22px;\n  }\n  // dialog header button css\n  .el-dialog__headerbtn {\n    position: static;\n    margin-left: 10px;\n    i {\n      font-size: 16px;\n      line-height: 1;\n    }\n  }\n  // 调整 element tabs 样式\n  .fix_el-tabs.el-tabs {\n    height: 100%;\n    .el-tabs__content {\n      padding: 0;\n      height: 100%;\n      .el-tab-pane {\n        height: 100%;\n      }\n    }\n  }\n}\n.dialog-header__title {\n  flex: 1;\n  height: 24px;\n  line-height: 24px;\n  font-size: 18px;\n  color: #303133;\n  // 防止文本换行，自动截断并加上省略号\n  .ellipsis();\n}\n.header-btn_maximizable {\n  font-size: 16px;\n  padding: 0;\n  background: 0 0;\n  border: none;\n  outline: 0;\n  cursor: pointer;\n  i.iconfont {\n    color: #909399;\n    &:focus,\n    &:hover {\n      color: #409eff;\n    }\n  }\n}\n','/*\n* Tencent is pleased to support the open source community by making WeUI available.\n* \n* Copyright (C) 2017 THL A29 Limited, a Tencent company. All rights reserved.\n* \n* Licensed under the MIT License (the "License"); you may not use this file except in compliance\n* with the License. You may obtain a copy of the License at\n* \n*       http://opensource.org/licenses/MIT\n* \n* Unless required by applicable law or agreed to in writing, software distributed under the License is\n* distributed on an "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND,\n* either express or implied. See the License for the specific language governing permissions and\n* limitations under the License.\n*/\n\n.ellipsis(@w:auto) {\n    width: @w;\n    overflow: hidden;\n    text-overflow: ellipsis;\n    white-space: nowrap;\n    word-wrap: normal;\n}\n\n.ellipsisLn(@line) {\n    overflow: hidden;\n    text-overflow: ellipsis;\n    display: -webkit-box;\n    -webkit-box-orient: vertical;\n    -webkit-line-clamp: @line;\n}\n.text_wrap() {\n    word-wrap:break-word;\n    word-break:break-all;\n}\n.hyphens() {\n    word-wrap:break-word;\n    -webkit-hyphens:auto;\n    hyphens:auto;\n}'],sourceRoot:""}]);const s=r},37:(e,n,t)=>{var i=t(271);i.__esModule&&(i=i.default),"string"==typeof i&&(i=[[e.id,i,""]]),i.locals&&(e.exports=i.locals),(0,t(23).Z)("40c94704",i,!1,{})},23:(e,n,t)=>{"use strict";function i(e,n){for(var t=[],i={},o=0;o<n.length;o++){var a=n[o],r=a[0],s={id:e+":"+o,css:a[1],media:a[2],sourceMap:a[3]};i[r]?i[r].parts.push(s):t.push(i[r]={id:r,parts:[s]})}return t}t.d(n,{Z:()=>h});var o="undefined"!=typeof document;if("undefined"!=typeof DEBUG&&DEBUG&&!o)throw new Error("vue-style-loader cannot be used in a non-browser environment. Use { target: 'node' } in your Webpack config to indicate a server-rendering environment.");var a={},r=o&&(document.head||document.getElementsByTagName("head")[0]),s=null,l=0,d=!1,c=function(){},A=null,p="data-vue-ssr-id",u="undefined"!=typeof navigator&&/msie [6-9]\b/.test(navigator.userAgent.toLowerCase());function h(e,n,t,o){d=t,A=o||{};var r=i(e,n);return f(r),function(n){for(var t=[],o=0;o<r.length;o++){var s=r[o];(l=a[s.id]).refs--,t.push(l)}for(n?f(r=i(e,n)):r=[],o=0;o<t.length;o++){var l;if(0===(l=t[o]).refs){for(var d=0;d<l.parts.length;d++)l.parts[d]();delete a[l.id]}}}}function f(e){for(var n=0;n<e.length;n++){var t=e[n],i=a[t.id];if(i){i.refs++;for(var o=0;o<i.parts.length;o++)i.parts[o](t.parts[o]);for(;o<t.parts.length;o++)i.parts.push(b(t.parts[o]));i.parts.length>t.parts.length&&(i.parts.length=t.parts.length)}else{var r=[];for(o=0;o<t.parts.length;o++)r.push(b(t.parts[o]));a[t.id]={id:t.id,refs:1,parts:r}}}}function g(){var e=document.createElement("style");return e.type="text/css",r.appendChild(e),e}function b(e){var n,t,i=document.querySelector("style["+p+'~="'+e.id+'"]');if(i){if(d)return c;i.parentNode.removeChild(i)}if(u){var o=l++;i=s||(s=g()),n=y.bind(null,i,o,!1),t=y.bind(null,i,o,!0)}else i=g(),n=_.bind(null,i),t=function(){i.parentNode.removeChild(i)};return n(e),function(i){if(i){if(i.css===e.css&&i.media===e.media&&i.sourceMap===e.sourceMap)return;n(e=i)}else t()}}var m,v=(m=[],function(e,n){return m[e]=n,m.filter(Boolean).join("\n")});function y(e,n,t,i){var o=t?"":i.css;if(e.styleSheet)e.styleSheet.cssText=v(n,o);else{var a=document.createTextNode(o),r=e.childNodes;r[n]&&e.removeChild(r[n]),r.length?e.insertBefore(a,r[n]):e.appendChild(a)}}function _(e,n){var t=n.css,i=n.media,o=n.sourceMap;if(i&&e.setAttribute("media",i),A.ssrId&&e.setAttribute(p,n.id),o&&(t+="\n/*# sourceURL="+o.sources[0]+" */",t+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(o))))+" */"),e.styleSheet)e.styleSheet.cssText=t;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(t))}}},607:n=>{"use strict";n.exports=e}},t={};function i(e){var o=t[e];if(void 0!==o)return o.exports;var a=t[e]={id:e,exports:{}};return n[e](a,a.exports,i),a.exports}i.n=e=>{var n=e&&e.__esModule?()=>e.default:()=>e;return i.d(n,{a:n}),n},i.d=(e,n)=>{for(var t in n)i.o(n,t)&&!i.o(e,t)&&Object.defineProperty(e,t,{enumerable:!0,get:n[t]})},i.o=(e,n)=>Object.prototype.hasOwnProperty.call(e,n),i.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var o={};return(()=>{"use strict";i.r(o),i.d(o,{VueAccessControl:()=>r,VueDialog:()=>u,default:()=>h});const e="TOKEN_KEY",n={getToken(){const n=localStorage.getItem(e);return console.debug(["get token",n]),n},setToken(n){console.debug(["set token",n]),localStorage.setItem(e,n)},verifyToken(){return console.debug(["verify token",this.getToken()]),!!this.getToken()}},t="Login",a=[t],r={install(e,i){const{loginRoute:o=t,whiteList:r=[]}=i,s=Object.assign({},a,r);console.debug("[vue-access-control] installed");const{router:l}=i;l.beforeEach(((e,t,i)=>{console.debug("[router beforeEach]",e.fullPath,t.fullPath),n.verifyToken()||s.includes(e.name)?i():i({name:o})}))}};var s=i(369),l=i.n(s);i(37);const d={props:{fullscreen:{type:Boolean,default:!1}},computed:{iconClass(){return{iconfont:!0,"icon-square":!this.fullscreen,"el-icon-copy-document":this.fullscreen}}},render(){const e=arguments[0],{iconClass:n,handleClick:t}=this,i={on:{click:t}};return e("button",l()([{},i,{class:"header-btn_maximizable el-dialog__headerbtn"}]),[e("i",{class:n})])},methods:{handleClick(e){this.$emit("click",e)}}};var c=i(607);const A={};function p(e){e()}A.install=function(e,n){e.prototype.$dialog=function(n,t={}){const i=n;return new Promise(((n,o)=>{const{payload:a}=t,r=t.beforeClose||p;t.beforeClose=function(e){u.$data.done=e,r(u.handleClose)},delete t.payload;const s=(0,c.assign)({},{el:void 0,appendToBody:!0,destroyOnClose:!0,title:"标题",top:"10vh",width:"60vw",height:"70vh",maximizable:!0,fullscreen:!1,closeOnClickModal:!1,closeOnPressEscape:!1},t),A=new e({name:"IntermediateComponent",components:{embedded:i,HeadButton:d},data:()=>({visible:!0,done:function(){},...s}),mounted(){this.visible=!0,console.debug("IntermediateComponent mounted")},beforeDestroy(){this.$el.remove()},methods:{handleClose(){this.done&&this.done(),this.handleCancel("取消")},handleSubmit(e){this.hide(),n(e)},handleCancel(e){this.hide(),o(e)},hide(){this.visible=!1,this.$destroy()},setTitle(e){this.title=e},setFullscreen(){this.fullscreen=!this.fullscreen}},render(){const e=arguments[0],{$data:n,title:t,setTitle:o,handleSubmit:r,handleCancel:s,setFullscreen:d}=this,c=isNaN(n.height)?n.height:`${n.height}px`,A={props:{...n},on:{"update:visible":e=>this.visible=e}},p={style:{height:c},class:["dialog-body__embedded"],props:{...a},on:{title:o,submit:r,cancel:s}},u={props:{fullscreen:n.fullscreen},on:{click:d}},h=n.maximizable?e("template",{slot:"title"},[e("div",{class:"dialog-header__title",on:{dblclick:d}},[t]),e("head-button",l()([{},u]))]):e("div",{slot:"title",class:"dialog-header__title"},[t]);return e("el-dialog",l()([{},A,{class:"fix_dialog",directives:[{name:"draggable",value:!0},{name:"resizable",value:!0}]}]),[h,e(i,l()([{},p]))])}}),u=A.$mount();s.el?s.el.appendChild(u.$el):s.appendToBody?document.body.appendChild(u.$el):console.error("Missing required parameter el or appendToBody !")}))},console.debug("[vue-dialog] installed")};const u=A,h={VueAccessControl:r,VueDialog:A}})(),o})()));
//# sourceMappingURL=plugins.js.map